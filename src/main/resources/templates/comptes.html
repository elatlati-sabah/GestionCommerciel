<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
    th:fragment="main-fragment (title, otherStaticResources, header, nav, mainContent, footer)">
<head>
<meta charset="UTF-8" />

 <!-----------------------  Bootstrap Libraries  ------------------->
    <meta name="viewport" content="width=device-width, initial-scale=1">    
    <link href="js/bootstrap.min.css" rel='stylesheet'/>
    <link href="js/bootstrap.min.js" rel='stylesheet'/>
    
    <!-----------------------  JQuery Library  ------------------->
    <script src="js/jquery.min.js" ></script>
    
    <!-----------------------  AngularJS Library ------------------->
    <script src="js/angular.min.js" ></script>
    
    <!-----------------------  JQuery methodes file   ------------------->
    <script src="js/controleur.js" ></script>
    
    <!-----------------------  Icons library  ------------------->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
   	
   	<!-----------------------  Alert libraries  ------------------->
    <link href="js/sweetalert.css" type="text/css" rel="stylesheet">
    <script src="js/sweetalert.min.js" type="text/javascript"></script>

 
<link rel="stylesheet" type="text/css" th:href="@{/css/indexpage.css}" href="../../static/main.css"/>
<link rel="stylesheet" type="text/css" th:href="@{css/myStyle.css}" href="css/myStyle.css"/>
	 <title>Inventaire</title>
	<meta http-equiv="pragma" content="no-cache">	
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">    
	<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
	<meta http-equiv="description" content="This is my page">


    <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
	integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
	crossorigin="anonymous">
<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
	integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
	crossorigin="anonymous">
</head>
<body>
	 <header th:fragment="header">
		<a><img th:src="@{/images/logo.png}" style="width:100px;height:60px; position: relative; ;"></a> 
      <a>&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp</a> <a th:href="@{/consulterCompte}" style="color: white;">Catégorie </a> |
       <a th:href="@{/consulterCompte}" style="color: white;">Fournisseur </a> |
        <a th:href="@{/consulterCompte}" style="color: white;">Caisse </a> |
        <a th:href="@{/consulterCompte}" style="color: white;">Consultaion de compte</a> |
    	 <a th:href="@{/login?logout}" style="color: white;">Déconnecter</a></li>
			
    </header>

    <section>
        <nav >
           <div class=" text-center">
    			<div class="col-sm-12 btn bg-danger" >
					<a href="/produits/list"><img th:src="@{/images/inventaireButton.png}" class="inventaire" style="width:100px;height:100px; margin-left:0px ;"></a> </br>
    				<span class="text-light"><B>Inventaire</B></span>
    			</div>
    			<br /><br />
    			<div class="col-sm-12 btn bg-success" >
					<a href="/achats/list"><img th:src="@{/images/Purchase.png}" class="purchase" style="width:100px;height:100px; margin-left:0px ;"></a><br />
    				<span class="text-light"><B>Achat</B></span>
    			</div>
    			<br /><br />
    			<div class="col-sm-12 btn bg-info" >
					<a href="/clients/list"><img th:src="@{/images/invHistorique.png}" class="historique" style="width:100px;height:100px; margin-left:0px ;"></a><br />
    				<span class="text-light"><B>Factures</B></span>
    			</div>
				<br /><br />
				<div class="col-sm-12 btn bg-success" >
					<a href="/api/pdf/facture"><img th:src="@{/images/client.png}" class="client" style="width:100px;height:100px; margin-left:0px ;"></a><br />
    				<span class="text-light"><B>Clients</B></span>
    			</div>
    			<br /><br />
        </nav>
 
    			<br /><br />
 
        <article>
	<div >

		<div class="col-md-6">
			<div class="panel panel-primary">
				<div class="panel-heading" style="font-family: 'Acme', sans-serif;">Consultation de la caisse</div>
				<div class="panel-body">
					<form th:action="@{/consulterCompte}" method="get">
						<div>
							<label>Code Cpte:</label> <input type="text" name="codeCompte"
								th:value="${codeCompte}" />
							<button type="submit" class="btn btn-primary">Ok</button>
						</div>
					</form>
					<div class="text-danger" th:if="${exception}"
						th:text="${exception.message}"></div>
				</div>
			</div>

			<div class="panel panel-primary" th:if="${compte}">
				<div class="panel-heading" style="font-family: 'Acme', sans-serif;">Informations sur le compte</div>
				<div class="panel-body">
					<!--  <div>
						<label>Client:</label> <label th:text="${compte.societe.nom}"></label>
					</div>-->
					<div>
						<label>Code:</label> <label th:text="${compte.codeCompte}"></label>
					</div>
					<div>
						<label>Solde:</label> <label th:text="${compte.solde}"></label>
					</div>
					<div>
						<label>Date Création:</label> <label
							th:text="${compte.dateCreation}"></label>
					</div>
					<div>
						<label>Type du compte:</label> <label
							th:text="${compte.class.simpleName}"></label>
					</div>
					<div th:if="${compte.class.simpleName=='CompteCourant'}">
						<label>Decouvert:</label> <label th:text="${compte.decouvert}"></label>
					</div>
					<div th:if="${compte.class.simpleName=='CompteEpargne'}">
						<label>Taux:</label> <label th:text="${compte.taux}"></label>
					</div>
				</div>
			</div>


		</div>


		<div class="col-md-6">
			<div>
				<div class="panel panel-primary"  >
					<div class="panel-heading" style="font-family: 'Acme', sans-serif;">Opération sur le compte</div>
					<div class="panel-body">
						<form th:action="@{/saveOperation}" method="post">
							<div>
								<label>Compte</label> <input type="hidden" name="codeCompte"
									th:value="${codeCompte}" /> <label th:text="${codeCompte}"></label>
							</div>
							<div>
								<input type="radio" name="typeOperation" value="VERS"
									checked="checked"
									onChange="document.getElementById('forVirement').style.display='none'" />
								<label>Versement</label> <input type="radio"
									name="typeOperation" value="RETR"
									onChange="document.getElementById('forVirement').style.display='none'" />
								<label>Retrait</label> <input type="radio" name="typeOperation"
									value="VIR"
									onChange="document.getElementById('forVirement').style.display='block'" />
								<label>Virement</label>
							</div>
							<div id="forVirement" style="display: none">
								<label>Vers :</label> <input type="text" name="codeCompte2" />
							</div>
							<div>
								<label>Montant :</label> <input type="text" name="montant" />
							</div>
							<div class="text-danger"
								th:text="${#httpServletRequest.getParameter('error')}"></div>

							<button type="submit" class="btn btn-primary">Enregistrer</button>
						</form>
					</div>
				</div>
			</div>

			<div class="panel panel-primary" th:if="${compte}">
				<div class="panel-heading" style="font-family: 'Acme', sans-serif;">Liste des opérations</div>
				<div class="panel-body">
					<table class="table table-striped">
						<tr>
							<th>Num</th>
							<th>Type</th>
							<th>Date</th>
							<th>Montant</th>
						</tr>
						<tr th:each="o:${listOperations}">
							<td th:text="${o.numero}"></td>
							<td th:text="${o.class.simpleName}"></td>
							<td th:text="${o.dateOperation}"></td>
							<td th:text="${o.montant}"></td>
						</tr>

					</table>
					<div class="container">
						<ul class="nav nav-pills">
							<li th:each="p,status:${pages}"><a
								th:href="@{/consulterCompte(codeCompte=${codeCompte},page=${status.index})}"
								th:text="${status.index}"></a></li>
						</ul>
					</div>
				</div>
			</div>


		</div>
	</div>
</article>
</section>

</body>
</html>